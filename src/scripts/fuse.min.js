/*!
 * Fuse.js v6.6.2 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2022 Kiro Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Fuse=t()}(this,function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);c=!0);}catch(e){a=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return Array.isArray(e)?e:null==e?[]:[e]}function s(e){return"string"==typeof e}function f(e){return"number"==typeof e}function d(e){return!0===e||!1===e||function(e){return h(e)&&null!==e}(e)&&"[object Boolean]"==p(e)}function v(e){return"object"===n(e)}function h(e){return null!=e}function p(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var g=function(e){return"Invalid value for key ".concat(e)},y=function(e){return"Pattern length exceeds max of ".concat(e,".")},m=Object.prototype.hasOwnProperty,k=function(){function e(t){var n=this;r(this,e),this._keys=[],this._keyMap={};var o=0;t.forEach(function(e){var t=_(e);o+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,o+=t.weight}),this._keys.forEach(function(e){e.weight/=o})}return i(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function _(e){var t=null,n=null,r=null,o=1,i=null;if(s(e)||Array.isArray(e))r=e,t=b(e),n=S(e);else{if(!m.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var c=e.name;if(r=c,m.call(e,"weight")&&(o=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive number")}(c));t=b(c),n=S(c),i=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:i}}function b(e){return Array.isArray(e)?e:e.split(".")}function S(e){return Array.isArray(e)?e.join("."):e}var x={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,o,i){if(h(t))if(o[i]){var c=t[o[i]];if(!h(c))return;if(i===o.length-1&&(s(c)||f(c)||d(c)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(c));else if(Array.isArray(c)){r=!0;for(var a=0,u=c.length;a<u;a+=1)e(c[a],o,i+1)}else o.length&&e(c,o,i+1)}else n.push(t)}(e,s(t)?t.split("."):t,0),r?n:n[0]},includeScore:!1,includeMatches:!1,minMatchCharLength:1,shouldSort:!0,findAllMatches:!1,keys:[],threshold:.6,location:0,distance:100,maxPatternLength:32,caseSensitive:!1,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},w=t(t(t(t({},{isCaseSensitive:!1,includeMatches:!1,minMatchCharLength:1,findAllMatches:!1,location:0,threshold:.6}),{},{distance:100}),{},{ignoreLocation:!1}),{},{useExtendedSearch:!1,getFn:x.getFn,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}});function O(e,t){var n=e.matches;t.matches=[],h(n)&&n.forEach(function(e){if(h(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}})}function j(e,t){t.score=e.score}var A=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;r(this,e),this.options=t(t({},w),n),this.options.useExtendedSearch,this._keyStore=new k(this.options.keys),this.setCollection(o,t)}return i(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&(this._myIndex=t))return;this.createIndex()}},{key:"createIndex",value:function(){this._myIndex=function(e,t){var n=[];return e.forEach(function(e,r){var o=t.getFn(e,r);n.push(o)}),n}(this._docs,this.options)}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,o=this.options,i=o.includeScore,c=o.shouldSort,a=o.sortFn,u=o.includeMatches,s=l(e).map(function(e){return{$and:e}}).map(function(e){return{$path:["$and",e]}}).filter(function(e){return 0!==e.$and.length}),f=this._searchLogical(s);return f.forEach(function(e){var t=e.item,n=e.refIndex;if(i&&(e.score=E(f)),u){var r=e.output;O(r,e)}}),c&&f.sort(a),f=f.slice(),r>0&&(f=f.slice(0,r)),function(e,t){var n=t.includeMatches,r=t.includeScore,o=[];return n&&o.push(O),r&&o.push(j),e.map(function(e){var t=e.idx,n={item:this._docs[t],refIndex:t};return o.length&&o.forEach(function(t){t(e,n)}),n},this)}(f,{includeMatches:u,includeScore:i})}},{key:"_searchLogical",value:function(e){var t=this,n=function(e,n){var r=e[Object.keys(e)[0]];if(!Array.isArray(r))return;var o=[];switch(Object.keys(e)[0]){case"$and":o=r.map(function(e){return t._searchLogical([e])}),o=o.reduce(function(e,t){return e&&e.length?t&&t.length?e.concat(t):e:t||[]},[]);break;case"$or":o=r.map(function(e){return t._searchLogical([e])}),o=o.reduce(function(e,t){return e.length?t.length?e.concat(t):e:t},[]);break;case"$path":var i=r[r.length-1];o=t._search(i,n).map(function(e){return{item:e.item,score:e.score,output:e.output,idx:e.idx}});break;case"$not":var c=Object.keys(r[0])[0],a=r[0][c];o=t._docs.filter(function(e,r){return!t._searchLogical([{[c]:a}],{idx:r}).length}).map(function(e,t){return{item:e,idx:t,score:0}})}return o},r=!!this._myIndex&&this._docs.length;return e.forEach(function(e){n(e,{idx:r?e.$path.length<=1?void 0:function(){return[]}:function(){return[]}})}),n({"$and":e})}},{key:"_search",value:function(e,t){var n=this._keyStore.get(e.key),r=!!n&&n.getFn,o=this._myIndex,i=this.options,c=i.includeMatches,a=i.includeScore,u=this._searchStringForKey(e.pattern,n,{getFn:r||this.options.getFn,fieldNormWeight:this.options.fieldNormWeight}),s=u.results,f=u.totalScore,d=this._docs.slice();c&&(d=d.map(function(e,t){return{item:e,idx:t}}));var v=[];return s.forEach(function(e){var n=e.idx,r={score:e.score,idx:n};if(c){var o=e.result;r.output=t(t({},o),{},{score:r.score,key:o.key})}a&&(r.score=(r.score+f)/2),d[n]&&v.push(r)}),v}},{key:"_searchStringForKey",value:function(e,t,n){var r=this,o=n.getFn,i=void 0===o?this.options.getFn:o,c=n.fieldNormWeight,a=void 0===c?this.options.fieldNormWeight:c,u=[],s=0;return this._myIndex.forEach(function(n,o){var c=i(r._docs[o],t.path);if(h(c)){var f=[];if(Array.isArray(c))c.forEach(function(n){if(h(n)&&s(n)){var r=M(e,n,{...r.options,getFn:function(e,t){return e[t]}});r.score>0&&(f.push(r),u.push({score:r.score,key:t,result:r,idx:o}))}}),s+=f.length;else if(s(c)){var d=M(e,c,r.options);d.score>0&&(u.push({score:d.score,key:t,result:d,idx:o}),s+=1)}}}),{results:u,totalScore:s}}]),e}();function E(e){var t=e.length;return e.forEach(function(e){e.score/=t}),e}var C=["Fuse version is not compatible with Bitap"];function M(e,t,n){return t=function(e,t){var n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,c=t.expectedLocation,a=void 0===c?0:c,u=t.distance,l=void 0===u?100:u,s=t.ignoreLocation,f=void 0!==s&&s,d=r/e.length;if(f)return d;var v=Math.abs(a-i);return l?d+v/l:v?1:d}(e,t),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.location,i=void 0===o?x.location:o,c=r.threshold,a=void 0===c?x.threshold:c,u=r.distance,l=void 0===u?x.distance:u,s=r.includeMatches,f=void 0===s?x.includeMatches:s,d=r.findAllMatches,v=void 0===d?x.findAllMatches:d,h=r.minMatchCharLength,p=void 0===h?x.minMatchCharLength:h,g=r.isCaseSensitive,y=void 0===g?x.isCaseSensitive:g,m=r.ignoreLocation,k=void 0===m?x.ignoreLocation:m;if(t.length>n.maxPatternLength)throw new Error(y(n.maxPatternLength));var _,b=t.length,S=!y,w=0,O=p;if(y||(t=t.toLowerCase(),S&&(t=t.toLowerCase())),_=S?function(e){return n.charAt(e)}:function(e){return n.charAt(e).toLowerCase()},w=t.indexOf(_(i),0),w>-1){var j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.errors,o=void 0===r?0:r,i=n.currentLocation,c=void 0===i?0:i,a=n.expectedLocation,u=void 0===a?0:a,l=n.distance,s=void 0===l?100:l,f=n.ignoreLocation,d=void 0!==f&&f,v=o/e.length,h=Math.abs(u-c);return d?v:s?v+h/s:h?1:v}(t,n,{errors:0,currentLocation:w,expectedLocation:i,distance:l,ignoreLocation:k});if(O=j<=a,f)for(var A=n.length,E=[],C=0;C<A;C+=1)E[C]=0;if(O){var M,I=1;for(C=0;C<b;C+=1){for(var L=n.length,F=Math.max(1,i-Math.max(161,3*l)),N=Math.min(i+Math.max(161,3*l),L),P=Array(N+2),D=P[N+1]=(1<<C)-1,R=N;R>=F;R-=1){var z=R-1,K=D|1<<z;if(P[R]=((P[R+1]<<1)|1)&K,R<=w+C&&(I&=K,I)){var $=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.errors,o=void 0===r?0:r,i=n.currentLocation,c=void 0===i?0:i,a=n.expectedLocation,u=void 0===a?0:a,l=n.distance,s=void 0===l?100:l,f=n.ignoreLocation,d=void 0!==f&&f,v=o/e.length,h=Math.abs(u-c);return d?v:s?v+h/s:h?1:v}(t,n,{errors:C,currentLocation:z,expectedLocation:i,distance:l,ignoreLocation:k});if($<=a){if((M=$)<=O&&(O=M,w=z)<=i)break;F=Math.max(1,2*i-w)}}}if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.errors,o=void 0===r?0:r,i=n.currentLocation,c=void 0===i?0:i,a=n.expectedLocation,u=void 0===a?0:a,l=n.distance,s=void 0===l?100:l,f=n.ignoreLocation,d=void 0!==f&&f,v=o/e.length,h=Math.abs(u-c);return d?v:s?v+h/s:h?1:v}(t,n,{errors:C+1,currentLocation:i,expectedLocation:i,distance:l,ignoreLocation:k})>a)break;D=P[R]}if(f){var q=function(e){for(var t=[],n=-1,r=-1,o=0,i=e.length;o<i;o+=1){var c=e[o];c&&-1===n?n=o:c||-1===n||(r=o-1,t.push([n,r]),n=-1)}return e[o-1]&&t.push([n,o-1]),t}(E);q.length?M.matches=q:M.matches=[]}return M}if(v||!I)break;I=(1<<C-1)&D}var B={isMatch:I,score:Math.max(.001,O)};return f&&(B.indices=q),B}}(e,t,n,{location:i,threshold:a,distance:l,includeMatches:f,findAllMatches:v,minMatchCharLength:p,isCaseSensitive:y,ignoreLocation:k})}var I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),this.options=t(t({},x),n),this.options.useExtendedSearch)throw new Error(C.join("\n"));this._keyStore=new k(this.options.keys),this.setCollection(t)}return i(e,[{key:"setCollection",value:function(e){if(this._docs=e,t)return;this.createIndex()}},{key:"createIndex",value:function(){this._myIndex=L(this._docs,this.options)}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,o=this.options,i=o.includeScore,c=o.shouldSort,a=o.sortFn,u=o.includeMatches,s=s(e)?L([e],this.options)[0]:e,f=this._searchStringForKey(s,this._keyStore.keys()[0],{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight}),d=f.results,v=f.totalScore,h=this._docs.slice();return u&&(h=h.map(function(e,t){return{item:e,idx:t}})),d.forEach(function(e){var t=e.idx,n={score:e.score,idx:t};u&&(n.output=e.result),i&&(n.score=(n.score+v)/2),h[t]&&(n.item||h[t],n.item=h[t].item||h[t],d.push(n))}),c&&d.sort(a),s(e)&&r>0&&(d=d.slice(0,r)),function(e,t){var n=t.includeMatches,r=t.includeScore,o=[];return n&&o.push(O),r&&o.push(j),e.map(function(e){var t=e.idx,n={item:this._docs[t],refIndex:t};return o.length&&o.forEach(function(t){t(e,n)}),n},this)}(d,{includeMatches:u,includeScore:i})}},{key:"_searchStringForKey",value:function(e,t,n){var r=n.getFn,o=void 0===r?this.options.getFn:r,i=n.fieldNormWeight,c=void 0===i?this.options.fieldNormWeight:i,a=[],u=0;return this._myIndex.forEach(function(n,r){var i=o(this._docs[r],t.path);if(h(i)){var c=[];if(Array.isArray(i))i.forEach(function(t,n){if(h(t)&&s(t)){var r=M(e,t,this.options);r.score>0&&(c.push(r),a.push({score:r.score,key:t,result:r,idx:r}))}}),u+=c.length;else if(s(i)){var f=M(e,i,this.options);f.score>0&&(a.push({score:f.score,key:t,result:f,idx:r}),u+=1)}}}),{results:a,totalScore:u}}]),e}();function L(e,t){var n=t.getFn,r=void 0===n?x.getFn:n,o=t.fieldNormWeight,i=void 0===o?x.fieldNormWeight:o,c=[];return e.forEach(function(e,t){var n=r(e,this._keyStore.keys()[0].path);if(h(n))if(Array.isArray(n)){var o=[];n.forEach(function(e,t){h(e)&&s(e)&&o.push(e)}),c.push(o)}else s(n)&&c.push([n])}),c}return A.version="6.6.2",A.createIndex=L,A.parseIndex=function(e,t){var n=t.getFn,r=void 0===n?x.getFn:n,o=t.fieldNormWeight,i=void 0===o?x.fieldNormWeight:o,c=e.keys,a=e.records,u=new k(c);return new A(t,u).setCollection(a.map(function(e,t){var n=r(e,u.keys()[0].path);return h(n)?Array.isArray(n)?n.map(function(e){return s(e)?e:""}):[s(n)?n:""]:[]}))},A.config=x,A});
